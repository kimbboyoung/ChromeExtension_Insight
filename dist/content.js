let srcList=[],coupangList=[],combinedText="";const getAllCoupangImages=()=>{const e=document?.querySelectorAll("iframe");e.length>0&&e.forEach((e=>{try{const t=e.contentDocument;if(t){const e=t.querySelectorAll("img");srcList.push(...Array.from(e).map((e=>e.src)))}}catch(e){console.warn("Error accessing iframe contents:",e)}})),coupangList=[];const t=document.querySelectorAll(".product-detail-content-inside");t.length>0&&t?.forEach((e=>{try{const t=e.querySelectorAll("img");coupangList.push(...Array.from(t).map((e=>e.src)))}catch(e){console.warn("Error accessing iframe contents:",e)}}));const o=document.querySelector(".prod-buy");if(o){const e=o.querySelector("h2").textContent.trim(),t=o.querySelector(".total-price"),r=o.querySelector(".prod-shipping-fee-message"),c=o.querySelector(".prod-reward-cash").querySelectorAll("p"),n=Array.from(c).map((e=>e.textContent.trim())).join("\n"),s=t.textContent.trim(),l=r.textContent.trim();console.log("h2Text:",e),console.log("totalPriceText:",s),console.log("shippingFeeText:",l),console.log("combinedRewardsText:",n),combinedText=[e,s,l,n].join("\n"),console.log("combinedText:",combinedText)}},currentURL=window.location.href;console.log("현재 페이지 URL:",currentURL),setTimeout((()=>{getAllCoupangImages(),chrome.runtime.sendMessage({images:srcList,coupangs:coupangList,currentURL,detailTexts:combinedText},(e=>{}))}),2e3);