chrome.runtime.onMessage.addListener((async(e,o,t)=>{let l=[];if(e.coupangs.length>0){const o=e.coupangs;l=l.concat(o.map((e=>({url:e})))),console.log("쿠팡 이미지 URL 목록:",l),console.log("백그라운드에서 현재 url : ",e.currentURL),console.log("백그라운드에서 현재 productTexts : ",e.detailTexts)}if(e.images.length>0){const o=e.images;l=l.concat(o.map((e=>({url:e})))),console.log("Gmarket 이미지 URL 목록:",l)}if(console.log("백그라운드 스크립트 이미지 URL 목록:",l),console.log("백그라운드에서 현재 url : ",e.currentURL),l.length>0)try{await fetch("http://localhost:8000/pic_to_text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrls:l,productTexts:e.detailTexts,sietUrls:e.currentURL})}).then((e=>console.log("OCR STATUS : ",e.statusText)))}catch(e){console.error("POST 요청 전송 중 오류 발생:",e)}else console.log("가져올 리스트가 없습니다.")}));