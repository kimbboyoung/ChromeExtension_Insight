chrome.sidePanel.setPanelBehavior({openPanelOnActionClick:!0}).catch((e=>console.error(e))),chrome.tabs.onUpdated.addListener((async(e,o,t)=>{t.url&&(new URL(t.url),await chrome.sidePanel.setOptions({tabId:e,path:"popup.html",enabled:!0}))})),chrome.runtime.onMessage.addListener((async(e,o,t)=>{let n=[];if(e.coupangs.length>0){const o=e.coupangs;n=n.concat(o.map((e=>({url:e})))),console.log("쿠팡 이미지 URL 목록:",n)}if(e.images.length>0){const o=e.images;n=n.concat(o.map((e=>({url:e})))),console.log("Gmarket 이미지 URL 목록:",n)}if(console.log("백그라운드 스크립트 이미지 URL 목록:",n),n.length>0)try{await fetch("http://localhost:8000/pic_to_text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrls:n})})}catch(e){console.error("POST 요청 전송 중 오류 발생:",e)}else console.log("가져올 리스트가 없습니다.")}));